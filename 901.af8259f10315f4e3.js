"use strict";(self.webpackChunktapwater_app=self.webpackChunktapwater_app||[]).push([[901],{4901:(O,v,c)=>{c.r(v),c.d(v,{LoggedInModule:()=>F});var l=c(9808);class h{constructor(s,t,o){this.peso=s,this.altura=t,this.copoPadrao=o}}var e=c(1223),g=c(1290),m=c(651);let _=(()=>{class n{constructor(){this.personalSettings=m.K.get(g.g.PERSONAL_SETTINGS_KEY)}save(t){m.K.set(g.g.PERSONAL_SETTINGS_KEY,t)}update(t){this.personalSettings=m.K.get(g.g.PERSONAL_SETTINGS_KEY),this.save(t)}getSettings(){return this.personalSettings=m.K.get(g.g.PERSONAL_SETTINGS_KEY),this.personalSettings}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var a=c(2382);const C=["form"];function T(n,s){if(1&n&&(e.TgZ(0,"div",19),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.ekj("red",!t.isSuccess)("blue",t.isSuccess),e.xp6(1),e.hij(" ",t.message," ")}}let y=(()=>{class n{constructor(t){this.personalSettingsService=t,this.isShowMessage=!1}ngOnInit(){this.personalSettings=this.personalSettingsService.getSettings(),null==this.personalSettings&&(this.personalSettings=new h("","",""))}onSubmit(){this.personalSettingsService.save(this.personalSettings),this.isShowMessage=!0,this.isSuccess=!0,this.message="Cadastro realizado com sucesso!"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-personal-settings"]],viewQuery:function(t,o){if(1&t&&e.Gf(C,5),2&t){let i;e.iGM(i=e.CRH())&&(o.form=i.first)}},decls:30,vars:8,consts:[[1,"container","contact"],[1,"row"],[1,"col","s12"],["id","msg-login","class","card-panel white-text",3,"red","blue",4,"ngIf"],[1,"col","s12",3,"submit"],["form","ngForm"],[1,"input-field","col","s6"],["id","input-peso","name","input-peso","type","text","pattern","^(0|[1-9]\\d*)(,\\d+)?$","required","",1,"validate",3,"ngModel","ngModelChange"],["peso","ngModel"],["for","input-peso",1,"active"],[1,"red-text",3,"hidden"],["id","input-altura","name","input-altura","type","text","pattern","^(0|[1-9]\\d*)(,\\d+)?$","required","",1,"validate",3,"ngModel","ngModelChange"],["altura","ngModel"],["for","input-altura",1,"active"],[1,"input-field","col","s12"],["id","input-copo","name","input-copo","type","text","pattern","^(0|[1-9]\\d*)(\\.\\d+)?$",1,"validate",3,"ngModel","ngModelChange"],["copo","ngModel"],["for","input-copo",1,"active"],["type","submit",1,"btn","waves-effect","cyan","waves-light","darken-1",3,"disabled"],["id","msg-login",1,"card-panel","white-text"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,T,2,5,"div",3),e.qZA(),e.TgZ(4,"form",4,5),e.NdJ("submit",function(){return o.onSubmit()}),e.TgZ(6,"div",6)(7,"input",7,8),e.NdJ("ngModelChange",function(r){return o.personalSettings.peso=r}),e.qZA(),e.TgZ(9,"label",9),e._uU(10,"Peso (KG) *"),e.qZA(),e.TgZ(11,"div",10),e._uU(12," Por favor, preencha o campo com o seu peso. "),e.qZA()(),e.TgZ(13,"div",6)(14,"input",11,12),e.NdJ("ngModelChange",function(r){return o.personalSettings.altura=r}),e.qZA(),e.TgZ(16,"label",13),e._uU(17,"Altura (m) *"),e.qZA(),e.TgZ(18,"div",10),e._uU(19," Por favor, preencha o campo com a sua altura. "),e.qZA()(),e.TgZ(20,"div",14)(21,"input",15,16),e.NdJ("ngModelChange",function(r){return o.personalSettings.copoPadrao=r}),e.qZA(),e.TgZ(23,"label",17),e._uU(24,"Copo padr\xe3o (ml)"),e.qZA(),e.TgZ(25,"div",10),e._uU(26," Por favor, preencha o com um valor numerico. "),e.qZA()(),e.TgZ(27,"div",2)(28,"button",18),e._uU(29," Salvar "),e.qZA()()()()()),2&t){const i=e.MAs(5),r=e.MAs(8),p=e.MAs(15),d=e.MAs(22);e.xp6(3),e.Q6J("ngIf",o.isShowMessage),e.xp6(4),e.Q6J("ngModel",o.personalSettings.peso),e.xp6(4),e.Q6J("hidden",r.valid||r.untouched),e.xp6(3),e.Q6J("ngModel",o.personalSettings.altura),e.xp6(4),e.Q6J("hidden",p.valid||p.untouched),e.xp6(3),e.Q6J("ngModel",o.personalSettings.copoPadrao),e.xp6(4),e.Q6J("hidden",d.valid||d.untouched),e.xp6(3),e.Q6J("disabled",!i.valid)}},directives:[l.O5,a._Y,a.JL,a.F,a.Fj,a.c5,a.Q7,a.JJ,a.On],styles:[""]}),n})();var u=c(5358);let A=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-menu"]],decls:18,vars:0,consts:[[1,"navbar-fixed",2,"z-index","1001 !important"],[1,"nav-wrapper"],[1,"container","hide-on-med-and-down"],["routerLink","/home",1,"brand-logo"],["src","/assets/resources/images/logo.png",1,"my-logo"],[1,"right"],["routerLink","/list"],["src","/assets/resources/images/list.png",1,"my-logo"],["routerLink","/settings",2,"margin-left","16px"],["src","/assets/resources/images/settings.png",1,"my-logo"],[1,"container","hide-on-large-only"],["routerLink","/list",1,"left"],["routerLink","/settings",1,"right",2,"margin-left","16px"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"nav")(2,"div",1)(3,"div",2)(4,"a",3),e._UZ(5,"img",4),e.qZA(),e.TgZ(6,"div",5)(7,"a",6),e._UZ(8,"img",7),e.qZA(),e.TgZ(9,"a",8),e._UZ(10,"img",9),e.qZA()()(),e.TgZ(11,"div",10)(12,"a",11),e._UZ(13,"img",7),e.qZA(),e.TgZ(14,"a",3),e._UZ(15,"img",4),e.qZA(),e.TgZ(16,"a",12),e._UZ(17,"img",9),e.qZA()()()()())},directives:[u.yS],styles:[".my-logo[_ngcontent-%COMP%]{height:46px;margin-top:10px}"]}),n})();const M=["*"];let I=(()=>{class n{constructor(){this.year=(new Date).getFullYear()}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-footer"]],ngContentSelectors:M,decls:5,vars:1,consts:[[1,"footer-style"],[1,"container","my-font"],["src","/assets/resources/images/logo.png","id","logo-footer","height","20em",1,"img-responsive"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"footer",0)(1,"div",1),e._uU(2),e._UZ(3,"img",2),e.qZA(),e.Hsn(4),e.qZA()),2&t&&(e.xp6(2),e.hij(" \xa9 Copyright - ",o.year," - Todos os direitos reservados "))},styles:[".footer-style[_ngcontent-%COMP%]{margin-bottom:10px;text-align:center}"]}),n})(),U=(()=>{class n{constructor(){this.title="tapwater-app",this.currentDate=new Date}ngOnInit(){navigator.geolocation.getCurrentPosition(t=>{this.coords=t.coords}),setInterval(()=>{this.currentDate=new Date},1e3)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-logged-in"]],decls:9,vars:6,template:function(t,o){1&t&&(e.TgZ(0,"header"),e._UZ(1,"app-menu"),e.qZA(),e.TgZ(2,"main"),e._UZ(3,"router-outlet"),e.qZA(),e.TgZ(4,"app-footer")(5,"span"),e._uU(6),e.ALo(7,"date"),e.qZA(),e._uU(8),e.qZA()),2&t&&(e.xp6(6),e.Oqu(e.xi3(7,3,null==o?null:o.currentDate,"HH:mm:ss")),e.xp6(2),e.AsE(" - Latitude: ",null==o.coords?null:o.coords.latitude," e Longitude: ",null==o.coords?null:o.coords.longitude,"\n"))},directives:[A,u.lC,I],pipes:[l.uU],styles:[""]}),n})();class q{constructor(s,t,o){this.id=String(Math.round(1e3*Math.random())),this.quant=s,this.day=t,this.hour=o}}var f=c(520),b=c(2843),S=c(262);let Z=(()=>{class n{constructor(t){this.httpClient=t,this.URL="http://localhost:3000/consumption",this.httpOptions={headers:new f.WM({"Content-Type":"application/json"})}}handleError(t){return 0===t.status?console.error("An error occurred:",t.error):console.error(`Backend returned code ${t.status}, body was: `,t.error),(0,b._)(()=>new Error("Something bad happened; please try again later."))}save(t){return this.httpClient.post(this.URL,JSON.stringify(t),this.httpOptions).pipe((0,S.K)(this.handleError)).subscribe()}getByDay(t){return this.httpClient.get(`${this.URL}/?day=${t}`).pipe((0,S.K)(this.handleError))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function L(n,s){if(1&n&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA()()),2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.hour),e.xp6(2),e.Oqu(t.quant)}}function J(n,s){if(1&n&&(e.TgZ(0,"table",2)(1,"thead")(2,"tr")(3,"th"),e._uU(4,"Horario"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Quantidade"),e.qZA()()(),e.TgZ(7,"tbody"),e.YNc(8,L,5,2,"tr",3),e.qZA()()),2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",t.consum)}}const P=[{path:"",component:U,children:[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:(()=>{class n{constructor(t,o,i){this.route=t,this.personalSettingsService=o,this.consumService=i}ngOnInit(){this.personalSettings=this.personalSettingsService.getSettings(),null==this.personalSettings&&(this.personalSettings=new h("","",""))}addItemDefault(){var t=parseFloat(this.personalSettings.copoPadrao);NaN!=t&&0!=t?this.addItem(t):alert("valor para copo padr\xe3o n\xe3o encontrado!")}addItem(t){var o=new Date,i=o.toISOString().slice(0,10),r=o.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}),p=new q(t,i,r);this.consumService.save(p),alert("Valor adicionado com sucesso")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.gz),e.Y36(_),e.Y36(Z))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:23,vars:0,consts:[[1,"container","contact"],[2,"display","flex","justify-content","space-around"],[1,"card-button",3,"click"],["src","../../../../../assets/resources/images/standard_cup.png",1,"img-button"],["src","../../../../../assets/resources/images/cup_200ml.png",1,"img-button"],["src","../../../../../assets/resources/images/cup_250ml.png",1,"img-button"],["src","../../../../../assets/resources/images/cup_300ml.png",1,"img-button"],["src","../../../../../assets/resources/images/cup_350ml.png",1,"img-button"],["src","../../../../../assets/resources/images/cup_400ml.png",1,"img-button"],["src","../../../../../assets/resources/images/cup_450ml.png",1,"img-button"],["src","../../../../../assets/resources/images/bottle_500ml.png",1,"img-button"],["src","../../../../../assets/resources/images/bottle_1L.png",1,"img-button"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"a",2),e.NdJ("click",function(){return o.addItemDefault()}),e._UZ(4,"img",3),e.qZA(),e.TgZ(5,"a",2),e.NdJ("click",function(){return o.addItem(200)}),e._UZ(6,"img",4),e.qZA(),e.TgZ(7,"a",2),e.NdJ("click",function(){return o.addItem(250)}),e._UZ(8,"img",5),e.qZA()(),e.TgZ(9,"div",1)(10,"a",2),e.NdJ("click",function(){return o.addItem(300)}),e._UZ(11,"img",6),e.qZA(),e.TgZ(12,"a",2),e.NdJ("click",function(){return o.addItem(350)}),e._UZ(13,"img",7),e.qZA(),e.TgZ(14,"a",2),e.NdJ("click",function(){return o.addItem(400)}),e._UZ(15,"img",8),e.qZA()(),e.TgZ(16,"div",1)(17,"a",2),e.NdJ("click",function(){return o.addItem(450)}),e._UZ(18,"img",9),e.qZA(),e.TgZ(19,"a",2),e.NdJ("click",function(){return o.addItem(500)}),e._UZ(20,"img",10),e.qZA(),e.TgZ(21,"a",2),e.NdJ("click",function(){return o.addItem(1e3)}),e._UZ(22,"img",11),e.qZA()()()())},directives:[a._Y,a.JL,a.F],styles:[".card-button[_ngcontent-%COMP%]{height:96px;width:96px;margin-top:50px}.img-button[_ngcontent-%COMP%]{height:96px;width:96px}"]}),n})()},{path:"settings",component:y},{path:"list",component:(()=>{class n{constructor(t,o){this.consumService=t,this.personalSettingsService=o,this.consum=[],this.percent=0,this.suggestedConsumption=2400}ngOnInit(){this.personalSettings=this.personalSettingsService.getSettings();var t=(new Date).toISOString().slice(0,10);this.consumService.getByDay(t).subscribe(o=>{this.consum=o;const i=o.reduce((p,d)=>p+d.quant,0);if(0!=i){var r=parseFloat(this.personalSettings.peso);null==this.personalSettings||0==r||NaN==r?(this.personalSettings=new h("","",""),this.suggestedConsumption=2400):this.suggestedConsumption=35*r,this.percent=i/this.suggestedConsumption}else this.percent=0})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Z),e.Y36(_))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-water-consumption"]],decls:4,vars:6,consts:[[2,"text-align","center"],["class","highlight",4,"ngIf"],[1,"highlight"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(e.TgZ(0,"h3",0),e._uU(1),e.ALo(2,"percent"),e.qZA(),e.YNc(3,J,9,1,"table",1)),2&t&&(e.xp6(1),e.AsE("",e.xi3(2,3,o.percent,"1.2-2")," de ",o.suggestedConsumption,"ml"),e.xp6(2),e.Q6J("ngIf",o.consum&&o.consum.length>0))},directives:[l.O5,l.sg],pipes:[l.Zx],styles:[""]}),n})()}]}];let N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[u.Bz.forChild(P)],u.Bz]}),n})(),F=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[l.ez,N,a.u5,f.JF]]}),n})()}}]);